"use strict";!function(e){var n,t,i=(new Date).getTime(),o=document.location.host+document.location.pathname.split("/").join("_"),a="<%= version %>",c=function(){var e,n;return e=window.innerWidth?window.innerWidth:window.document.documentElement.clientWidth,n=window.innerHeight?window.innerHeight:window.document.documentElement.clientHeight,{width:e,height:n}},r=function(e){e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var n=new RegExp("[\\?&]"+e+"=([^&#]*)"),t=n.exec(window.location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))},w=window.onmousemove,s=window.onclick,d=window.onresize,u=window.onscroll,l={create:function(e){t=e[0]},stoptrack:function(){window.onmousemove=w,window.onclick=s,window.onresize=d},track:function(){var e=document.createElement("script");e.src="https://www.gstatic.com/firebasejs/3.5.0/firebase.js",document.getElementsByTagName("head")[0].appendChild(e),e.onload=function(){window.firebase&&(window.firebase.initializeApp(t),window.firebase.auth().onAuthStateChanged(function(e){e?(n=e.uid,r("token")?l.viewresults():l._establish_connection()):window.firebase.auth().signInAnonymously()}))}},viewresults:function(){var e=document.createElement("script");e.src="results.js",document.getElementsByTagName("head")[0].appendChild(e)},_establish_connection:function(){var e=function(){var e,t,l=function(t){"connect"===t.a?(e=window.firebase.database().ref("views/"+o).push(),t.view=e.key,e.set(t),window.firebase.database().ref("users/"+n).child("lastSeen").set((new Date).getTime())):(t.ac=n,t.view=e.key,window.firebase.database().ref("events/"+o).push().set(t))},g=1,m=(new Date).getTime(),h=(new Date).getTime(),f={a:"connect",sr:window.screen.width+"x"+window.screen.height,sw:c().width+"x"+c().height,cs:window.screen.colorDepth,tl:i,ct:document.querySelector('meta[http-equiv="content-type"]')?document.querySelector('meta[http-equiv="content-type"]').getAttribute("content"):"",ac:n,ul:window.navigator.userLanguage||window.navigator.language,ag:navigator.userAgent,dt:document.title,dr:document.referrer,l:document.location.href,t:Number(new Date),v:a,at:r("token")};l(f),window.onmousemove=function(e){w&&w(e);var n=(new Date).getTime();if(n-m>200/g){var i=[e.pageX,e.pageY].join(",");i!==t&&(l({a:"move",x:e.pageX,y:e.pageY}),t=i,m=n)}},window.onscroll=function(e){u&&u(e);var n=(new Date).getTime();if(n-h>1e3/g){var t=document.documentElement,i=document.body,o=t&&t.scrollLeft||i&&i.scrollLeft||0,a=t&&t.scrollTop||i&&i.scrollTop||0;l({a:"scroll",left:o,top:a}),h=n}},window.onclick=function(e){s&&s(e),l({a:"click",x:e.pageX,y:e.pageY})},window.onresize=function(e){d&&d(e),l({a:"resize",w:window.innerWidth,h:window.innerHeight})}};e()},_loaded:function(e){e[0]("test")},_init:function(){var n=function(){this.push=function(){for(var e=0;e<arguments.length;e++)try{var n=Array.prototype.slice.call(arguments[e],0);"string"==typeof n?l[n]():l[n[0]](n.slice(1))}catch(t){}}},t=e[e.SeeYourVisitors],o=t.q;i=t.l||i,t.q=new n,t.q.push.apply(t.q,o)}};l._init()}(window),window.gg||(window.gg=function(){(window.gg.q=window.gg.q||[]).push(arguments)});